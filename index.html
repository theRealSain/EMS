<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>For You üíô</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" />
    <link href="https://fonts.googleapis.com/css2?family=Exo+2:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet" />

    <style>
      @import url("https://fonts.googleapis.com/css2?family=Exo+2:ital,wght@0,100..900;1,100..900&display=swap");
      body {
        font-family: "Exo 2", sans-serif;
      }

      /* PARTICLES */
      #particles-js {
        position: fixed;
        inset: 0;
        z-index: -1;
      }

      /* FLOATING SHAPES */
      .shape {
        position: absolute;
        opacity: 0.12;
        filter: blur(1px);
        animation: float 14s infinite ease-in-out;
      }
      @keyframes float {
        50% {
          transform: translateY(-60px) translateX(20px);
        }
      }

      /* SCROLL REVEAL */
      .reveal {
        opacity: 0;
        transform: translateY(50px);
        transition: 1s;
      }
      .reveal.show {
        opacity: 1;
        transform: none;
      }

      /* STORY */
      #storyText {
        min-height: 300px;
        overflow: hidden;
        font-family: "Exo 2", sans-serif;
      }
      #storyText.centered {
        text-align: center;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.9rem;
        font-weight: bold;
      }
      .story-out-left {
        animation: storyOutLeft 0.35s ease forwards;
      }
      .story-out-right {
        animation: storyOutRight 0.35s ease forwards;
      }
      .story-in-left {
        animation: storyInLeft 0.35s ease forwards;
      }
      .story-in-right {
        animation: storyInRight 0.35s ease forwards;
      }
      @keyframes storyOutLeft {
        from {
          opacity: 1;
          transform: translateX(0);
        }
        to {
          opacity: 0;
          transform: translateX(-80px);
        }
      }
      @keyframes storyOutRight {
        from {
          opacity: 1;
          transform: translateX(0);
        }
        to {
          opacity: 0;
          transform: translateX(80px);
        }
      }
      @keyframes storyInLeft {
        from {
          opacity: 0;
          transform: translateX(80px);
        }
        to {
          opacity: 1;
          transform: translateX(0);
        }
      }
      @keyframes storyInRight {
        from {
          opacity: 0;
          transform: translateX(-80px);
        }
        to {
          opacity: 1;
          transform: translateX(0);
        }
      }

      /* MOUSE HEARTS */
      .heart {
        position: fixed;
        pointer-events: none;
        font-size: 24px;
        animation: fade 30s linear forwards;
      }
      .emoji-rain {
        position: fixed;
        top: -10vh;
        font-size: 22px;
        pointer-events: none;
        animation: emojiFall 4.5s linear forwards;
      }
      .floating-heart,
      .floating-grin {
        position: fixed;
        pointer-events: none;
        color: #7cc4ff;
        font-size: 64px;
        transform: rotate(-12deg);
        animation: floatHeart 1.6s ease forwards;
        z-index: 50;
      }
      @keyframes floatHeart {
        0% {
          opacity: 0;
          transform: translateY(20px) rotate(-12deg) scale(0.9);
        }
        20% {
          opacity: 1;
        }
        100% {
          opacity: 0;
          transform: translateY(-120px) rotate(-12deg) scale(1.05);
        }
      }
      @keyframes emojiFall {
        0% {
          opacity: 0;
          transform: translateY(0);
        }
        20% {
          opacity: 1;
        }
        80% {
          opacity: 1;
        }
        100% {
          transform: translateY(100vh);
          opacity: 0;
        }
      }
      @keyframes fade {
        to {
          opacity: 0;
          transform: translateY(-2500vh) scale(0.9);        
        }
      }

      /* CLOCK HEARTS */
      .clock-heart {
        position: absolute;
        left: 60%;
        top: 6px;
        font-size: 16px;
        pointer-events: none;
        animation: clockHeart 1.2s ease forwards;
        transform: translateX(18px);
      }
      @keyframes clockHeart {
        0% {
          opacity: 0;
          transform: translateY(6px) scale(0.9);
        }
        40% {
          opacity: 1;
          transform: translateY(-4px) scale(1.05);
        }
        100% {
          opacity: 0;
          transform: translateY(-18px) scale(0.85);
        }
      }

      /* GLOW */
      .glow {
        transition: 0.6s;
      }
      .glow.active {
        box-shadow: 0 0 50px rgba(120, 180, 255, 0.35);
      }

      /* IMAGE CARDS */
      .image-card {
        overflow: hidden;
        border-radius: 1.5rem;
        transition: 0.6s;
      }
      .image-card img {
        transition: 1s;
      }
      .image-card:hover img {
        transform: scale(1.08);
      }
      .image-card:hover {
        box-shadow: 0 0 40px rgba(140, 200, 255, 0.25);
      }

      /* INTERACTIVE CARDS */
      .card {
        transition: 0.4s;
      }
      .card:hover {
        transform: translateY(-6px) scale(1.02);
        box-shadow: 0 0 30px rgba(140, 200, 255, 0.25);
      }

      /* SPARKLES */
      .sparkle {
        position: fixed;
        animation: sparkle 1.5s forwards;
      }
      @keyframes sparkle {
        0% {
          opacity: 0;
          transform: scale(0);
        }
        50% {
          opacity: 1;
          transform: scale(1.2);
        }
        100% {
          opacity: 0;
          transform: translateY(-30px);
        }
      }

      /* EXTRA SCROLL ANIMATIONS */
      .reveal.show {
        animation: softLift 1.1s ease forwards;
      }
      @keyframes softLift {
        from {
          opacity: 0;
          transform: translateY(60px);
        }
        to {
          opacity: 1;
          transform: none;
        }
      }

      /* LETTER BOXES */
      .letter-box {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        border-radius: 0.35rem;
        margin: 0.14rem;
        background: rgba(255, 255, 255, 0.04);
        backdrop-filter: blur(12px);
        padding: 0;
      }
      .small-caps {
        font-variant: small-caps;
        letter-spacing: 0.02em;
      }
      .letter-small {
        font-size: 0.75em;
      }
      .letter-line {
        display: inline-flex;
        gap: 0.15rem;
        transform-origin: center;
      }
      .emil-clear {
        background-color: rgba(255, 255, 255, 0);
        backdrop-filter: blur(0px) !important;
      }
      .happy-box {
        background: rgba(255, 255, 255, 0.132);
      }
      .vday-glow {
        box-shadow:
          0 0 8px rgba(140, 190, 255, 0.157),
          0 0 16px rgba(140, 190, 255, 0.18),
          0 0 26px rgba(140, 190, 255, 0.12);
      }
    </style>

    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              bg: "#07162a",
              card: "#0c2344",
              soft: "#cfe3ff",
            },
          },
        },
      };
    </script>
  </head>

  <body class="bg-bg text-soft overflow-x-hidden">
    <div id="particles-js"></div>

    <div class="shape w-40 h-40 bg-blue-400 rounded-full top-10 left-10"></div>
    <div class="shape w-32 h-32 bg-white rounded-full top-1/3 right-20"></div>
    <div class="shape w-24 h-24 bg-blue-200 rounded-full bottom-20 left-1/4"></div>
    <div class="shape w-52 h-52 bg-white rounded-full bottom-10 right-10"></div>

    <div class="shape w-28 h-28 bg-blue-300 rounded-full" style="top: 110vh; left: 8%"></div>
    <div class="shape w-44 h-44 bg-white rounded-full" style="top: 140vh; right: 12%"></div>
    <div class="shape w-20 h-20 bg-blue-200 rounded-full" style="top: 190vh; left: 55%"></div>
    <div class="shape w-36 h-36 bg-white rounded-full" style="top: 230vh; right: 6%"></div>
    <div class="shape w-24 h-24 bg-blue-300 rounded-full" style="top: 270vh; left: 18%"></div>
    <div class="shape w-48 h-48 bg-white rounded-full" style="top: 310vh; right: 18%"></div>
    <div class="shape w-22 h-22 bg-blue-200 rounded-full" style="top: 350vh; left: 62%"></div>
    <div class="shape w-30 h-30 bg-white rounded-full" style="top: 390vh; right: 30%"></div>
    <div class="shape w-26 h-26 bg-blue-400 rounded-full" style="top: 50vh; right: 15%"></div>
    <div class="shape w-32 h-32 bg-blue-200 rounded-full" style="top: 80vh; left: 5%"></div>
    <div class="shape w-28 h-28 bg-white rounded-full" style="top: 160vh; right: 25%"></div>
    <div class="shape w-24 h-24 bg-blue-300 rounded-full" style="top: 210vh; left: 12%"></div>
    <div class="shape w-40 h-40 bg-white rounded-full" style="top: 280vh; right: 8%"></div>
    <div class="shape w-20 h-20 bg-blue-200 rounded-full" style="top: 330vh; left: 35%"></div>
    <div class="shape w-36 h-36 bg-blue-400 rounded-full" style="top: 370vh; right: 20%"></div>
    <div class="shape w-22 h-22 bg-white rounded-full" style="top: 420vh; left: 25%"></div>

    <section class="h-screen w-full flex flex-col justify-center items-center text-center reveal relative bg-gradient-to-b from-black/80 via-black/50 to-transparent" data-aos="fade-up">
      <h1 class="font-bold mb-4 flex flex-wrap justify-center gap-1 uppercase text-base sm:text-lg md:text-2xl lg:text-3xl px-4 sm:px-0">
        <span class="letter-box vday-glow border-transparent w-7 h-7 sm:w-9 sm:h-9 md:w-11 md:h-11 lg:w-12 lg:h-12 small-caps letter-small">H</span><span class="letter-box vday-glow border-transparent w-7 h-7 sm:w-9 sm:h-9 md:w-11 md:h-11 lg:w-12 lg:h-12 small-caps letter-small">A</span><span class="letter-box vday-glow border-transparent w-7 h-7 sm:w-9 sm:h-9 md:w-11 md:h-11 lg:w-12 lg:h-12 small-caps letter-small">P</span><span class="letter-box vday-glow border-transparent w-7 h-7 sm:w-9 sm:h-9 md:w-11 md:h-11 lg:w-12 lg:h-12 small-caps letter-small">P</span><span class="letter-box vday-glow border-transparent w-7 h-7 sm:w-9 sm:h-9 md:w-11 md:h-11 lg:w-12 lg:h-12 small-caps letter-small">Y</span>
        <span class="w-full"></span>
        <span class="letter-line whitespace-nowrap">
          <span class="letter-box vday-glow w-7 h-7 sm:w-9 sm:h-9 md:w-11 md:h-11 lg:w-12 lg:h-12">V</span><span class="letter-box vday-glow w-7 h-7 sm:w-9 sm:h-9 md:w-11 md:h-11 lg:w-12 lg:h-12">a</span><span class="letter-box vday-glow w-7 h-7 sm:w-9 sm:h-9 md:w-11 md:h-11 lg:w-12 lg:h-12">l</span><span class="letter-box vday-glow w-7 h-7 sm:w-9 sm:h-9 md:w-11 md:h-11 lg:w-12 lg:h-12">e</span><span class="letter-box vday-glow w-7 h-7 sm:w-9 sm:h-9 md:w-11 md:h-11 lg:w-12 lg:h-12">n</span><span class="letter-box vday-glow w-7 h-7 sm:w-9 sm:h-9 md:w-11 md:h-11 lg:w-12 lg:h-12">t</span><span class="letter-box vday-glow w-7 h-7 sm:w-9 sm:h-9 md:w-11 md:h-11 lg:w-12 lg:h-12">i</span><span class="letter-box vday-glow w-7 h-7 sm:w-9 sm:h-9 md:w-11 md:h-11 lg:w-12 lg:h-12">n</span><span class="letter-box vday-glow w-7 h-7 sm:w-9 sm:h-9 md:w-11 md:h-11 lg:w-12 lg:h-12">e‚Äô</span><span class="letter-box vday-glow w-7 h-7 sm:w-9 sm:h-9 md:w-11 md:h-11 lg:w-12 lg:h-12">s</span>
        </span>
        <span class="w-full"></span>
        <span class="letter-line whitespace-nowrap">
          <span class="letter-box vday-glow w-7 h-7 sm:w-9 sm:h-9 md:w-11 md:h-11 lg:w-12 lg:h-12">D</span><span class="letter-box vday-glow w-7 h-7 sm:w-9 sm:h-9 md:w-11 md:h-11 lg:w-12 lg:h-12">a</span><span class="letter-box vday-glow w-7 h-7 sm:w-9 sm:h-9 md:w-11 md:h-11 lg:w-12 lg:h-12">y</span>
        </span>
      </h1>
      <p class="text-2xl sm:text-3xl md:text-4xl font-semibold mb-2 mt-4 flex justify-center tracking-[0.35em]">
        <span class="-mr-2 w-7 h-7 sm:w-9 sm:h-9 md:w-11 md:h-11 lg:w-12 lg:h-12 small-caps letter-small">E</span>
        <span class="-mr-2 w-7 h-7 sm:w-9 sm:h-9 md:w-11 md:h-11 lg:w-12 lg:h-12 small-caps letter-small">M</span>
        <span class="-mr-2 w-7 h-7 sm:w-9 sm:h-9 md:w-11 md:h-11 lg:w-12 lg:h-12 small-caps letter-small">I</span>
        <span class="-mr-2 w-7 h-7 sm:w-9 sm:h-9 md:w-11 md:h-11 lg:w-12 lg:h-12 small-caps letter-small">L</span>
        <span class="-mr-2 w-7 h-7 sm:w-9 sm:h-9 md:w-11 md:h-11 lg:w-12 lg:h-12 small-caps letter-small">U</span>
        <span class="-mr-2 w-7 h-7 sm:w-9 sm:h-9 md:w-11 md:h-11 lg:w-12 lg:h-12 small-caps letter-small">T</span>
        <span class="-mr-2 w-7 h-7 sm:w-9 sm:h-9 md:w-11 md:h-11 lg:w-12 lg:h-12 small-caps letter-small">T</span>
        <span class="-mr-2 w-7 h-7 sm:w-9 sm:h-9 md:w-11 md:h-11 lg:w-12 lg:h-12 small-caps letter-small">A</span>
        <span class="-mr-2 w-7 h-7 sm:w-9 sm:h-9 md:w-11 md:h-11 lg:w-12 lg:h-12 small-caps letter-small">N</span>
      </p>
      <p>üíô</p>
      <p class="absolute bottom-16 left-1/2 -translate-x-1/2 text-xs sm:text-sm whitespace-nowrap">
        <span class="opacity-90 text-white">Emilutta</span>, <span class="opacity-50">Scroll down slowly</span>
      </p>
    </section>

    <section class="min-h-screen flex flex-col items-center justify-center reveal" data-aos="fade-up">
      <div class="text-center text-xl sm:text-3xl md:text-4xl lg:text-5xl font-semibold tracking-wide mb-8">
        Our Little Love Story
      </div>
      <div id="storyBox" class="bg-gradient-to-b from-card/80 to-transparent p-4 sm:p-6 md:p-8 max-w-sm sm:max-w-md md:max-w-lg lg:max-w-3xl rounded-3xl h-[600px] flex flex-col">
        <div class="text-right text-xs sm:text-sm opacity-70 mb-2">
          <span id="count">1</span> / 6
        </div>

        <div id="storyText" class="fade-in leading-relaxed text-sm sm:text-base md:text-lg pr-2 flex-1 flex items-center"></div>
      </div>
      <div class="mt-4 text-center text-xs">
        <span class="text-white">Emilutta,</span> <span class="opacity-60">Swipe left or right to navigate</span>
      </div>
    </section>

    <section class="min-h-screen flex flex-col items-center justify-center gap-10 reveal px-6" data-aos="fade-up">
      <h2 class="text-2xl sm:text-3xl font-semibold">Little Moments ü§ç</h2>
      <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6 max-w-5xl w-full">
        <div class="image-card reveal">
          <img src="Onam_crop.jpg" alt="Little moment 3" />
        </div>
        <div class="image-card reveal">
          <img src="BBT_edit.png" alt="Little moment 1" />
        </div>
        <div class="image-card reveal">
          <img src="Ghibli_bus.png" alt="Little moment 2" />
        </div>
      </div>
    </section>

    <section class="min-h-screen flex items-center justify-center reveal px-6" data-aos="fade-up">
      <div class="bg-gradient-to-b from-card/70 to-transparent p-8 rounded-3xl max-w-xl text-center">
        <p class="text-lg sm:text-xl leading-relaxed">
          This is our first Valentine‚Äôs Day together.<br />
          Not loud. Not perfect.<br />
          Just real like us.<br />
          And I‚Äôll always remember this one as the beginning of something gentle
          and true. üíô
        </p>
        <p class="mt-6 text-2xl sm:text-3xl md:text-4xl font-semibold">I Love You, Emilüíô</p>        
        <p class="text-sm sm:text-base opacity-80 mt-8">Touch anywhere... <br>To feel my heart beating for you...</p>
      </div>
    </section>

    <section class="min-h-screen flex items-center justify-center reveal px-6" data-aos="fade-up">
      <div class="max-w-4xl w-full text-center">
        <div class="mx-auto flex flex-col items-center gap-1 px-5 py-3 rounded-full border border-white/20 bg-white/5 backdrop-blur"><span class="text-xs sm:text-sm uppercase tracking-[0.35em] opacity-70">Together Since</span><span class="text-sm sm:text-base font-semibold">January 1, 2026 ¬∑ 11:02 PM</span></div>
        <h2 class="mt-6 text-3xl sm:text-4xl md:text-5xl font-bold">We have been <br> in Love for</h2>

        <div class="mt-10 grid grid-cols-2 sm:grid-cols-3 md:grid-cols-6 gap-4 sm:gap-6">
          <div class="card relative rounded-2xl border border-white/10 bg-card/60 backdrop-blur p-4 sm:p-5">
            <div id="loveYears" class="text-3xl sm:text-4xl font-bold">0</div>
            <div class="mt-1 text-xs sm:text-sm uppercase tracking-widest opacity-70">Years</div>
          </div>
          <div class="card relative rounded-2xl border border-white/10 bg-card/60 backdrop-blur p-4 sm:p-5">
            <div id="loveMonths" class="text-3xl sm:text-4xl font-bold">0</div>
            <div class="mt-1 text-xs sm:text-sm uppercase tracking-widest opacity-70">Months</div>
          </div>
          <div class="card relative rounded-2xl border border-white/10 bg-card/60 backdrop-blur p-4 sm:p-5">
            <div id="loveDays" class="text-3xl sm:text-4xl font-bold">0</div>
            <div class="mt-1 text-xs sm:text-sm uppercase tracking-widest opacity-70">Days</div>
          </div>
          <div class="card relative rounded-2xl border border-white/10 bg-card/60 backdrop-blur p-4 sm:p-5">
            <div id="loveHours" class="text-3xl sm:text-4xl font-bold">0</div>
            <div class="mt-1 text-xs sm:text-sm uppercase tracking-widest opacity-70">Hours</div>
          </div>
          <div class="card relative rounded-2xl border border-white/10 bg-card/60 backdrop-blur p-4 sm:p-5">
            <div id="loveMinutes" class="text-3xl sm:text-4xl font-bold">0</div>
            <div class="mt-1 text-xs sm:text-sm uppercase tracking-widest opacity-70">Minutes</div>
          </div>
          <div class="card relative rounded-2xl border border-white/10 bg-card/60 backdrop-blur p-4 sm:p-5">
            <div id="loveSeconds" class="text-3xl sm:text-4xl font-bold">0</div>
            <div class="mt-1 text-xs sm:text-sm uppercase tracking-widest opacity-70">Seconds</div>
          </div>
        </div>

        <div class="mt-8 text-sm sm:text-base opacity-80">
          <span class="font-semibold">Emilutta</span>, you are my favorite time.
        </div>
      </div>
    </section>

    <section class="min-h-screen flex items-center justify-center reveal px-6" data-aos="fade-up">
      <div class="bg-gradient-to-b from-card/70 to-transparent p-8 sm:p-10 rounded-3xl max-w-2xl text-center">
        <p class="text-xs sm:text-sm uppercase tracking-[0.4em] opacity-70">A Little Question</p>
        <h2 class="mt-4 text-3xl sm:text-4xl md:text-5xl font-bold">Will You Be My Valentine?</h2>
        <p class="mt-4 text-sm sm:text-base opacity-80">
          Just a soft yes from you, and my whole world feels complete.
        </p>
        <div class="mt-8 flex flex-col sm:flex-row gap-4 justify-center">
          <button id="valentineYes" class="px-8 py-3 rounded-full bg-white text-bg font-bold hover:scale-105 transition">Forever üíô</button>
          <button id="valentineAlways" class="px-8 py-3 rounded-full border border-white/30 text-soft font-semibold hover:bg-white/10 transition">Always üíç</button>
        </div>
        <p id="valentineMessage" class="mt-5 text-sm sm:text-base opacity-0 transition-all duration-500"></p>
      </div>
    </section>

    <section class="h-screen flex items-center justify-center reveal px-6" data-aos="fade-up">
      <div class="w-full max-w-3xl grid grid-cols-1 md:grid-cols-[1.1fr_0.9fr] gap-8 items-center">
        <div class="text-center md:text-left">
          <p class="text-xs sm:text-sm uppercase tracking-[0.4em] opacity-70">Final Note</p>
          <h3 class="mt-3 text-3xl sm:text-4xl md:text-5xl font-bold">One last touch</h3>
          <p class="mt-4 text-sm sm:text-base opacity-80">Tap to reveal the promise waiting beneath.</p>
        </div>
        <div class="flex flex-col items-center md:items-start gap-6">
          <button onclick="proposal()" class="w-full sm:w-auto px-8 py-4 bg-white text-bg rounded-full font-bold hover:scale-105 transition">
            Tap Slowly üíç
          </button>
          <p id="final" class="text-lg sm:text-xl md:text-2xl hidden opacity-0 transition-all duration-1000 text-center md:text-left">
            Every heartbeat, still you. üíô <br>
            I Love You a lot Emil ü•π
          </p>
        </div>
      </div>
    </section>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.js"></script>
    <script>
      AOS.init({ duration: 800, once: false, offset: 80 });

      particlesJS("particles-js", {
        particles: {
          number: { value: 40 },
          color: { value: "#cfe3ff" },
          opacity: { value: 0.1 },
          size: { value: 6 },
          line_linked: { enable: false },
          move: { speed: 0.6 },
        },
      });

      const storyText = document.getElementById("storyText");
      const count = document.getElementById("count");
      const storyBox = document.getElementById("storyBox");
      const final = document.getElementById("final");
      const valentineYes = document.getElementById("valentineYes");
      const valentineAlways = document.getElementById("valentineAlways");
      const valentineMessage = document.getElementById("valentineMessage");
      const loveYears = document.getElementById("loveYears");
      const loveMonths = document.getElementById("loveMonths");
      const loveDays = document.getElementById("loveDays");
      const loveHours = document.getElementById("loveHours");
      const loveMinutes = document.getElementById("loveMinutes");
      const loveSeconds = document.getElementById("loveSeconds");
      const storySlideClasses = ["story-out-left", "story-out-right", "story-in-left", "story-in-right"];

      const story = [
        "I didn‚Äôt fall in love with you all at once. In the beginning, you were just someone I knew - a familiar face from school, someone I saw, smiled at, and moved on. Life went on, years passed, and I never imagined you would become the most important part of my story. After school, in 2018, something slowly changed inside me. I didn‚Äôt understand it at first. I kept asking myself whether it was real love or just a passing feeling. I even thought time and distance would erase it. During the corona days, when we didn‚Äôt see each other for a long time, I believed that feeling would fade away. But the first time I saw you again after all that - even with a mask on - everything stopped inside me. I stood there frozen. That was when I understood the truth: this was not time pass, not curiosity. My heart had remembered you even when my mind tried to forget.",
        "I know you always say I put in too much effort. But for me, this was the least I could do. I loved you quietly, with limits, with boundaries, because I never wanted to become a burden in your life. There were many times I held myself back - many things I wanted to say, many moments I wanted to move closer - but I didn‚Äôt. I chose control over pressure, respect over demand.",
        "When we slowly came back into each other‚Äôs lives in 2022, and truly connected again through the church choir in 2023, I didn‚Äôt rush. I stood beside you - supporting your music, listening to you, encouraging you - without expecting anything in return. When I finally told you how I felt in December 2024, you didn‚Äôt say yes. That broke my heart, but I stayed. Not because I was waiting to win you, but because you mattered to me as a person, not just as someone I loved.",
        "Through 2025, we became real friends. We shared our days, our worries, our dreams, and sometimes even our anger. There were moments I failed, moments I spoke in pain, moments I walked away. But even then, my care for you never left. I learned that loving someone doesn‚Äôt mean holding on tightly - it means knowing when to step back too.",
        "And then, quietly, without drama or pressure, everything changed. You came back to me - not because I chased you, but because you chose me. On January 1, 2026, when you said you loved me, it felt like my entire past finally made sense. All those years of patience, silence, restraint, and hope came together in that one moment. I am still not perfect. I can be too emotional, sometimes too silent, sometimes too much. I know I have hurt you without realizing it. But this love - this is honest. I don‚Äôt know what the future looks like, and I don‚Äôt expect everything to change overnight. I only believe this: if we walk slowly, with trust and respect, together, that is more than enough for me. This is not just a love story. This is my heart, written in words - for you.",
      ];

      // Add final "I Love You" slide
      story.push("üíô I LOVE YOU EMIL üíô");

      let i = 0;
      storyText.innerText = story[0];

      function updateCount() {
        count.innerText = i + 1;
        // Add centered class for the final "I Love You" slide
        if (i === story.length - 1) {
          storyText.classList.add("centered");
        } else {
          storyText.classList.remove("centered");
        }
      }

      function nextStory() {
        storyBox.classList.remove(...storySlideClasses);
        storyBox.classList.add("story-out-left");
        setTimeout(() => {
          i++;
          if (i >= story.length) {
            i = 0; // Loop back to first story
          }
          storyText.innerText = story[i];
          storyBox.classList.remove("story-out-left");
          storyBox.style.transition = "none";
          storyBox.style.transform = "translateX(100px)";
          requestAnimationFrame(() => {
            storyBox.style.transform = "";
            storyBox.classList.add("story-in-left");
          });
          updateCount();
        }, 400);
      }
      function prevStory() {
        storyBox.classList.remove(...storySlideClasses);
        storyBox.classList.add("story-out-right");
        setTimeout(() => {
          i = Math.max(0, i - 1);
          storyText.innerText = story[i];
          storyBox.classList.remove("story-out-right");
          storyBox.style.transition = "none";
          storyBox.style.transform = "translateX(-100px)";
          requestAnimationFrame(() => {
            storyBox.style.transform = "";
            storyBox.classList.add("story-in-right");
          });
          updateCount();
        }, 400);
      }
      
      let touchStartX = 0;
      let touchEndX = 0;
      let isDragging = false;

      // Swipe gesture handling
      storyBox.addEventListener("touchstart", (e) => {
        touchStartX = e.changedTouches[0].screenX;
        isDragging = true;
        storyBox.style.transition = "none";
      });

      storyBox.addEventListener("touchmove", (e) => {
        if (!isDragging) return;
        const currentX = e.changedTouches[0].screenX;
        const deltaX = currentX - touchStartX;
        storyBox.style.transform = "translateX(" + deltaX + "px)";
      });

      storyBox.addEventListener("touchend", (e) => {
        touchEndX = e.changedTouches[0].screenX;
        isDragging = false;
        storyBox.style.transition = "transform 0.25s ease";
        handleSwipe();
      });

      function handleSwipe() {
        const swipeThreshold = 50;
        const diff = touchStartX - touchEndX;

        if (Math.abs(diff) > swipeThreshold) {
          if (diff > 0) {
            // Swiped left - next story
            nextStory();
          } else {
            // Swiped right - previous story
            prevStory();
          }
        }
        storyBox.style.transform = "translateX(0)";
      }

      updateCount();

      storyBox.addEventListener("animationend", () => {
        storyBox.classList.remove(...storySlideClasses);
      });

      if (valentineYes && valentineAlways && valentineMessage) {
        const showMessage = (text) => {
          valentineMessage.textContent = text;
          valentineMessage.classList.add("opacity-100");
        };

        valentineYes.addEventListener("click", () => {
          showMessage("Forever starts right here. üíç");
          const placed = [];
          const maxHearts = 18;
          const maxTries = 80;
          for (let n = 0; n < maxHearts; n++) {
            const heart = document.createElement("i");
            heart.className = "fa-regular fa-heart floating-heart";
            const r = Math.random();
            const size = r < 0.25 ? 26 + Math.random() * 18 : r < 0.75 ? 50 + Math.random() * 32 : 90 + Math.random() * 40;
            const rotate = -25 + Math.random() * 50;
            let left = 6 + Math.random() * 88;
            let top = 10 + Math.random() * 80;
            let tries = 0;
            const minDist = size * 1.25;
            let placedOk = false;
            while (tries < maxTries) {
              const pxX = (left / 100) * window.innerWidth;
              const pxY = (top / 100) * window.innerHeight;
              let ok = true;
              for (const p of placed) {
                const dx = pxX - p.x;
                const dy = pxY - p.y;
                const dist = Math.sqrt(dx * dx + dy * dy);
                if (dist < (minDist + p.r)) {
                  ok = false;
                  break;
                }
              }
              if (ok) {
                placedOk = true;
                break;
              }
              left = 6 + Math.random() * 88;
              top = 10 + Math.random() * 80;
              tries += 1;
            }
            if (!placedOk) continue;
            placed.push({
              x: (left / 100) * window.innerWidth,
              y: (top / 100) * window.innerHeight,
              r: minDist,
            });
            heart.style.fontSize = size + "px";
            heart.style.transform = "rotate(" + rotate + "deg)";
            heart.style.left = left + "%";
            heart.style.top = top + "%";
            heart.style.animationDuration = 1.2 + Math.random() * 0.8 + "s";
            document.body.appendChild(heart);
            setTimeout(() => heart.remove(), 2000);
          }
        });
        valentineAlways.addEventListener("click", () => {
          showMessage("I choose you, again and again. ‚ú®");
          const placed = [];
          const maxFaces = 18;
          const maxTries = 80;
          for (let n = 0; n < maxFaces; n++) {
            const face = document.createElement("span");
            face.className = "floating-grin";
            face.textContent = "üòç";
            const r = Math.random();
            const size = r < 0.25 ? 26 + Math.random() * 18 : r < 0.75 ? 50 + Math.random() * 32 : 90 + Math.random() * 40;
            const rotate = -25 + Math.random() * 50;
            let left = 6 + Math.random() * 88;
            let top = 10 + Math.random() * 80;
            let tries = 0;
            const minDist = size * 1.25;
            let placedOk = false;
            while (tries < maxTries) {
              const pxX = (left / 100) * window.innerWidth;
              const pxY = (top / 100) * window.innerHeight;
              let ok = true;
              for (const p of placed) {
                const dx = pxX - p.x;
                const dy = pxY - p.y;
                const dist = Math.sqrt(dx * dx + dy * dy);
                if (dist < (minDist + p.r)) {
                  ok = false;
                  break;
                }
              }
              if (ok) {
                placedOk = true;
                break;
              }
              left = 6 + Math.random() * 88;
              top = 10 + Math.random() * 80;
              tries += 1;
            }
            if (!placedOk) continue;
            placed.push({
              x: (left / 100) * window.innerWidth,
              y: (top / 100) * window.innerHeight,
              r: minDist,
            });
            face.style.fontSize = size + "px";
            face.style.transform = "rotate(" + rotate + "deg)";
            face.style.left = left + "%";
            face.style.top = top + "%";
            face.style.animationDuration = 1.2 + Math.random() * 0.8 + "s";
            document.body.appendChild(face);
            setTimeout(() => face.remove(), 2000);
          }
        });
      }

      function updateLoveTimer() {
        function spawnClockHeart(target) {
          if (!target) return;
          const heart = document.createElement("div");
          heart.className = "clock-heart";
          heart.innerText = "üíô";
          target.parentElement.appendChild(heart);
          setTimeout(() => heart.remove(), 1200);
        }

        const start = new Date(2026, 0, 1, 23, 2, 0); // January 1, 2026 at 11:02 PM
        const now = new Date();
        let years = now.getFullYear() - start.getFullYear();
        let months = now.getMonth() - start.getMonth();
        let days = now.getDate() - start.getDate();

        if (days < 0) {
          const prevMonth = new Date(now.getFullYear(), now.getMonth(), 0);
          days += prevMonth.getDate();
          months -= 1;
        }
        if (months < 0) {
          months += 12;
          years -= 1;
        }

        const currentAnchor = new Date(
          start.getFullYear() + years,
          start.getMonth() + months,
          start.getDate(),
          start.getHours(),
          start.getMinutes(),
          start.getSeconds(),
        );
        const diffMs = Math.max(0, now - currentAnchor);
        const hours = Math.floor(diffMs / (1000 * 60 * 60)) % 24;
        const minutes = Math.floor(diffMs / (1000 * 60)) % 60;
        const seconds = Math.floor(diffMs / 1000) % 60;

        const newYears = Math.max(0, years);
        const newMonths = Math.max(0, months);
        const newDays = Math.max(0, days);
        const newHours = hours;
        const newMinutes = minutes;
        const newSeconds = seconds;

        if (loveYears.innerText !== String(newYears)) spawnClockHeart(loveYears);
        if (loveMonths.innerText !== String(newMonths)) spawnClockHeart(loveMonths);
        if (loveDays.innerText !== String(newDays)) spawnClockHeart(loveDays);
        if (loveHours.innerText !== String(newHours)) spawnClockHeart(loveHours);
        if (loveMinutes.innerText !== String(newMinutes)) spawnClockHeart(loveMinutes);
        if (loveSeconds.innerText !== String(newSeconds)) spawnClockHeart(loveSeconds);

        loveYears.innerText = newYears;
        loveMonths.innerText = newMonths;
        loveDays.innerText = newDays;
        loveHours.innerText = newHours;
        loveMinutes.innerText = newMinutes;
        loveSeconds.innerText = newSeconds;
      }
      updateLoveTimer();
      setInterval(updateLoveTimer, 1000);

      document.addEventListener("mousemove", (e) => {
        const h = document.createElement("div");
        h.className = "heart";
        h.innerText = "üíô";
        h.style.left = e.clientX + "px";
        h.style.top = e.clientY + "px";
        document.body.appendChild(h);
        setTimeout(() => h.remove(), 1000);
      });

      window.addEventListener("scroll", () => {
        storyBox.classList.add("active");
        clearTimeout(window.t);
        window.t = setTimeout(() => storyBox.classList.remove("active"), 500);
      });

      function proposal() {
        final.classList.remove("hidden");
        setTimeout(() => final.classList.add("opacity-100"), 50);

        for (let i = 0; i < 100; i++) {
          const drop = document.createElement("div");
          drop.className = "emoji-rain";
          drop.innerText = "üíô";
          const column = i % 12; // Distribute in 12 columns for better density
          drop.style.left = (column * 8.33 + Math.random() * 8.33) + "vw";
          drop.style.animationDelay = (i * 0.08) + Math.random() * 0.4 + "s";
          drop.style.fontSize = 14 + Math.random() * 6 + "px";
          document.body.appendChild(drop);
        }
      }

      const obs = new IntersectionObserver((e) =>
        e.forEach((x) => x.isIntersecting && x.target.classList.add("show")),
      );
      document.querySelectorAll(".reveal").forEach((el) => obs.observe(el));

      // Heart rain on page load
      window.addEventListener('load', () => {
        for (let i = 0; i < 50; i++) {
          const drop = document.createElement("div");
          drop.className = "emoji-rain";
          drop.innerText = "üíô";
          const column = i % 12; // Distribute in 12 columns for better density
          drop.style.left = (column * 8.33 + Math.random() * 8.33) + "vw";
          drop.style.animationDelay = (i * 0.08) + Math.random() * 0.4 + "s";
          drop.style.fontSize = 14 + Math.random() * 6 + "px";
          document.body.appendChild(drop);
        }
      });
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.js"></script>
  </body>
</html>
